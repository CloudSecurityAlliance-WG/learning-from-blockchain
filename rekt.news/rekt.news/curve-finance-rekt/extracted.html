<section class="post-content"><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2022/08/curve-header.png"/></figure></p><p><strong>Curve Finance’s principal front end, <a href="https://curve.fi/">curve.fi</a>, fell victim to a DNS hijacking <a href="https://twitter.com/samczsun/status/1557100692518473728">yesterday</a>, in which users were prompted to approve a malicious contract.</strong></p><p>Approximately $575k was stolen from users who approved, with proceeds being sent to CEXs and Tornado Cash. It seems <a href="https://rekt.news/eye-of-the-storm/">OFAC’s sanctions</a> don’t scare those who are already breaking the law…</p><p>The exploit was not active on <a href="https://curve.exchange/">curve.exchange</a>, the project's alternate UI, which the team <a href="https://twitter.com/CurveFinance/status/1557116419497672711">directed</a> users to while the incident was dealt with. The hacker’s mirrored site was taken down quickly, however some nameservers are <a href="https://twitter.com/CurveFinance/status/1557367150192562178">still to be updated</a>.</p><p><strong>This episode, and others like it, serve as stark reminders that web3 still runs on web2.</strong></p><p>When even the backbone of DeFi is reliant on legacy infrastructure…</p><p><em>…how decentralised can we claim to be?</em></p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/09/rekt-investigates-linebreak.png"/></figure></p><p>As with other DNS hijacking events, identification of the exact cause falls to the service provider, and we must rely on their account of events, without being able to corroborate on-chain.</p><p><strong>So far, <a href="https://iwantmyname.com/">iwantmyname</a> is yet to comment on exactly what led to the hijacking, but <a href="https://twitter.com/CurveFinance/status/1557115032646959105">Curve believes</a> that the underlying nameserver was compromised, rather than a vulnerability at the account level.</strong></p><p>Curve Founder and CEO <a href="https://twitter.com/newmichwill">Michael Egorov</a> confirmed his team's suspicions with rekt.news:</p><blockquote><p>Well for now I can say that dns registrar iwantmyname had their ns compromised</p><p>No account hack</p><p>Switched the ns</p><p>Besides a good bunch of hacked money frozen by centralized services</p><p>What could be done better.. we should try to go away from web2 things like dns tbh, that would be the best</p></blockquote><p>Further details provided <a href="https://twitter.com/CryptoShine/status/1557108025944674306">here</a>.</p><p><strong>All Curve users who interacted with the platform should <a href="https://revoke.cash/">revoke approvals</a> to the malicious contract immediately:</strong></p><p><strong><a href="https://etherscan.io/address/0x9eb5f8e83359bb5013f3d8eee60bdce5654e8881">0x9eb5f8e83359bb5013f3d8eee60bdce5654e8881</a>.</strong></p><p><strong>Attacker’s address:</strong> <a href="https://etherscan.io/address/0x50f9202e0f1c1577822bd67193960b213cd2f331">0x50f9202e0f1c1577822bd67193960b213cd2f331</a></p><p>The <a href="https://twitter.com/PeckShieldAlert/status/1557202180569833472">stolen funds</a> (340 ETH, or ~$575k, in total) have been deposited to CEXs FixedFloat (292 ETH of which 112 ETH <a href="https://twitter.com/FixedFloat/status/1557116267378708481">have been frozen</a>) and Binance (20 ETH) as well as Tornado Cash (27.7 ETH)</p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/03/rekt-linebreak.png"/></figure></p><p><strong>Currently, for the vast majority of users, DeFi is only as secure as the centrally-hosted front ends that they interact with.</strong></p><p>As the <a href="https://rekt.news/leaderboard/">battle-tested</a> contracts which secure established protocols’ back end become gradually more robust, exploiters are increasingly targeting the front end. This vector leverages users’ trust in the project’s contracts whilst overlooking the security behind the UI.</p><p>Without real decentralisation at every step, we will continue to see approval-harvesting attacks, such as those that have affected users of <a href="https://rekt.news/badger-rekt/">BadgerDAO</a>, <a href="https://rekt.news/madmeerkat-finance-rekt/">Mad Meerkat Finance</a> and, most recently, the <a href="https://twitter.com/LefterisJP/status/1540306236087877635">Namecheap breach</a> which affected front ends of four DeFi protocols.</p><p>For all the effort put into smart contract security, audits and decentralisation of governance powers, a project’s reputation can get still rekt through the fault of a web2 corporation.</p><p>Aside from <a href="https://twitter.com/AlexSmirnov__/status/1540322738975416321">monitoring for any site changes</a>, DeFi protocols (and more importantly, users) are stuck trusting another company’s security infrastructure and <a href="https://twitter.com/NamecheapCEO/status/1540378726055174144">staff members</a>.</p><p><strong>The next logical step is protocols hosting their Dapps via IPFS and ENS, cutting reliance on web2 DNS providers.</strong></p><p><strong>The vast majority of users are not interested in dealing directly with smart contracts; front end security should not be treated as an afterthought.</strong></p><p><em>How much longer will web3 rely on web2?</em></p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/08/rekt-outline-conc.png"/></figure></p>