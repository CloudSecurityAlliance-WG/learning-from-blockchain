<section class="post-content"><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2023/01/balancer-header.png"/></figure></p><p><em>Balancer has had a bit of a wobble.</em></p><p><strong>Last Sunday, the AMM (<em>along with ‘official partner’ <a href="https://twitter.com/beethoven_x">Beethoven X</a></em>) lost $2.1M from v2 Boosted pools across Ethereum, Optimism and Fantom.</strong></p><p><strong>First came a <a href="https://twitter.com/Balancer/status/1694014645378724280">warning</a>:</strong></p><blockquote><p>Balancer has received a critical vulnerability report affecting a number of V2 Pools.</p><p>Emergency mitigation procedures have been executed to secure a majority of TVL, but some funds remain at risk.</p><p>Users are advised to withdraw affected LPs immediately.</p></blockquote><p>Then, when the <a href="https://github.com/BalancerMaxis/multisig-ops/blob/main/BIPs/00notGov/2023-08-mitigation.md">list</a> of vulnerable pools was announced, it seems to have set an army of blackhats to work, looking for a way in.</p><p><strong>A <a href="https://twitter.com/Balancer/status/1695064684620140942">later update</a> stated that over 99% of vulnerable TVL had been secured, and that just $565k remained at risk.</strong></p><p><em>Then, $2.1M ended up missing.</em></p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/09/rekt-investigates-linebreak.png"/></figure></p><p>Credit: <em><a href="https://twitter.com/Balancer/status/1696930832760635566">Balancer</a>, <a href="https://twitter.com/peckshield/status/1696185272445419961">Peckshield</a>, <a href="https://twitter.com/BeosinAlert/status/1696362629818908758">Beosin</a></em></p><p><strong>The hacks came five days after Balancer’s disclosure of a potential threat, advising users to withdraw funds from certain pools.</strong></p><p>An official post-mortem is yet to be published, and details of the attack vector remain under wraps, given that further funds may still be at risk.</p><p><em>This article will be edited to add further details when they are released.</em></p><hr/><p><strong>EDIT - 14 SEPT 2023:</strong> While Balancer <a href="https://twitter.com/Tree_of_Alpha/status/1702266183016149061">still hasn't provided</a> an official post-mortem, BlockSec <a href="https://blocksecteam.medium.com/yet-another-risk-posed-by-precision-loss-an-in-depth-analysis-of-the-recent-balancer-incident-fad93a3c75d4">published</a> a detailed incident report, concluding that "<em>the root cause stems from the price manipulation resulting from the rounding down logic in the linear pool. This consequently affects the cached token rate used by the corresponding boosted pool inappropriately.</em>"</p><p>BlockSec justified their frontrunning of an official report, stating that three weeks had passed since Balancer's <a href="https://twitter.com/Balancer/status/1694014645378724280">initial announcement</a>, and two weeks since the hacks, adding:</p><blockquote><p>This incident emphasizes the critical need for prompt notifications to projects that have forked from a vulnerable source, which indeed poses a significant challenge for the whole community.</p></blockquote><p><strong>EDIT - also 14 SEPT 2023, four hours later:</strong> Balancer finally published their own in-depth <a href="https://medium.com/balancer-protocol/rate-manipulation-in-balancer-boosted-pools-technical-postmortem-53db4b642492">post-mortem</a>.</p><hr/><p>Balancer’s response to the threat followed a clear protocol in order to mitigate potential losses. As well as publishing the list of pools at risk, the team adjusted the UI in order to inform users whether their deposits were affected.</p><p>Exploiter addresses:</p><p><a href="https://etherscan.io/address/0xB23711b9D92C0f1c7b211c4E2DC69791c2df38c1">0xB23711b9D92C0f1c7b211c4E2DC69791c2df38c1</a> (ETH)</p><p><a href="https://etherscan.io/address/0xed187f37e5ad87d5b3b2624c01de56c5862b7a9b">0xed187f37e5ad87d5b3b2624c01de56c5862b7a9b</a> (ETH)</p><p><a href="https://etherscan.io/address/0x429313e53a220c4a5693cad1da26ae5045b5762f">0x429313e53a220c4a5693cad1da26ae5045b5762f</a> (ETH)</p><p><a href="https://ftmscan.com/address/0x64E08fa89C2bAE9F123cc8a293775f0E6CC86760">0x64E08fa89C2bAE9F123cc8a293775f0E6CC86760</a> (FTM)</p><p><a href="https://optimistic.etherscan.io/address/0xBC794F1ff9AD7711A9d2E69Be5b499e290B8fD3c">0xBC794F1ff9AD7711A9d2E69Be5b499e290B8fD3c</a> (OP)</p><p>While Balancer has been <a href="https://docs.balancer.fi/reference/contracts/security.html">audited by multiple companies</a>, the Boosted pools are not listed under the scope of any of the linked reports.</p><p><em>This isn’t the first time Balancer has been hacked, in 2020 the protocol lost $500k to a <a href="https://medium.com/balancer-protocol/incident-with-non-standard-erc20-deflationary-tokens-95a0f6d46dea">flashloan attack</a>. But that was before rekt.news’ time, making this latest incident Balancer’s leaderboard debut.</em></p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/03/rekt-linebreak.png"/></figure></p><p><strong>Doomscrolling the TL, it feels like we’ve hit peak apathy.</strong></p><p>With little to lift the spirits, influencers are content shilling themselves into quick profits via the latest popularity-ponzi.</p><p><em>And some of last cycle's <a href="https://twitter.com/realChrisBrunet/status/1695640932228419701">wannabe</a> main <a href="https://twitter.com/WatcherGuru/status/1696214485566881991">characters</a> continue to disgrace themselves.</em></p><p>With the community at a low-point it's especially painful to see even OG protocols like <a href="https://rekt.news/curve-vyper-rekt/">Curve</a> and Balancer eventually finding their way onto the <a href="https://rekt.news/leaderboard/">leaderboard</a>…</p><p>Things look bleak and we may start to ask ourselves:</p><blockquote><p>Will there even be another cycle?</p></blockquote><p>News that would have sent coins to the moon during a bull run is largely forgotten in a matter of days.</p><p><strong>But this industry isn't going away anytime soon.</strong></p><p><em>Will you be <a href="https://twitter.com/lemiscate/status/1694254310354301396">ready</a>, anon?</em></p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/08/rekt-outline-conc.png"/></figure></p>