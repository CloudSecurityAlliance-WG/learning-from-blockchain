<section class="post-content"><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2022/03/treasureheader.png"/></figure></p><p><strong>Swiggity swooty, somebody plundered the Treasure DAO booty.</strong></p><p>~$1.4M worth of NFTs has been stolen from the largest NFT marketplace on Arbritrum, leaving the OpenSea competitor stranded in deep water.</p><p>Treasure DAO has advised users to delist their NFTs, and the chase to track down the pseudonymous pirate has begun.</p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/09/rekt-investigates-linebreak.png"/></figure></p><p><strong>The thefts were made possible due to a logic bug in the Marketplace’s <em>buyItem</em> function, which allowed existing listings to be “bought” for no fee.</strong></p><p><em><a href="https://twitter.com/sniko_/status/1499202361180442627">harry.eth</a> pointed out that:</em></p><blockquote><p>buyItem doesn't check quantity is &gt; 0... exploiter calls buyItem() with zero quantity, pays 0, still receives NFT</p></blockquote><p><strong>As well as the <a href="https://twitter.com/sniko_/status/1499206885987258368">simple fix</a> which would have prevented the attack:</strong></p><blockquote><p>require(_quantity &gt; 0, “Cannot buy zero”);</p></blockquote><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2022/03/treasure-code.png"/></figure></p><p><strong>Shortly after the bug began to be exploited, the marketplace was paused and transactions started to fail.</strong></p><p><em>Co-founder John <a href="https://twitter.com/jpatten__/status/1499184767480512512">Pattern</a> said:</em></p><blockquote><p>We will cover the costs of the exploit—I will personally give up all of my Smols to repair this.</p></blockquote><p>Examples of NFT listings taken can be seen on Treasure DAO’s Marketplace via, for example, the <a href="https://twitter.com/SmolBrainsNFT">Smol Brains</a> collection’s <a href="https://marketplace.treasure.lol/collection/smol-brains?tab=activity&amp;activitySort=time">recent activity</a>. The project’s floor price is approximately 2.5k MAGIC, worth over $9k at the time of the exploit.</p><p>Following the news, the price of <a href="https://www.coingecko.com/en/coins/magic">MAGIC</a> dipped by around a third, but has since stabilised, down around 10% compared to before the incident.</p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/03/rekt-linebreak.png"/></figure></p><p><strong>In the hours since the attack, on-chain investigators believe they have <a href="https://twitter.com/gspdnsobaka/status/1499221626642223104">linked</a> one of the exploiter accounts to ENS and Binance addresses.</strong></p><p>Many NFTs are also <a href="https://twitter.com/Br0keboy96/status/1499240212001857536">being returned</a>, suggesting that the threat of doxxing is dissuading the attacker from keeping the illiquid stolen assets.</p><p><em>Treasure DAO eventually released <a href="https://twitter.com/Treasure_DAO/status/1499386558230769664?s=20&amp;t=DFLBLU7R6FN90jR_ATuaBA">a statement on Twitter</a>:</em></p><blockquote><p>Thank you to the community for your support during the marketplace exploit. It was a difficult moment, but your support speaks volumes about the resilience of the $MAGIC  community.</p></blockquote><blockquote><p>We are heads down focused on finding the 50 NFTs that remain stolen and making buyers whole.</p></blockquote><p><strong>Given the almost instant rally in the token price, and the community <a href="https://twitter.com/Whale_Drop/status/1499257211637440521">response</a>, it looks like this incident won’t be sinking the project.</strong></p><p><em>But considering the <a href="https://twitter.com/zachxbt/status/1496460811895820293">dirt being dug up</a> on those involved with the project, and the amateur error that led to the loss, perhaps Treasure DAO users should seek riches elsewhere…</em></p><p><figure><img alt="" src="https://raw.githubusercontent.com/RektHQ/Assets/main/images/2021/08/rekt-outline-conc.png"/></figure></p>